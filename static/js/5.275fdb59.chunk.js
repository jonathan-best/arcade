(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1406:function(t,e,i){"use strict";i.r(e);var s=i(1),a=i(2),r=i(4),n=i(3),c=i(5),h=i(0),o=i.n(h),l=i(41),d=i.n(l),u=function(t){function e(){return Object(s.a)(this,e),Object(r.a)(this,Object(n.a)(e).call(this,"Boot"))}return Object(c.a)(e,t),Object(a.a)(e,[{key:"create",value:function(){var t=this.game.canvas.clientHeight;this.add.text(120,t/2-10,"Press Spacebar To Start"),this.input.manager.enabled=!0,this.cursors=this.input.keyboard.createCursorKeys()}},{key:"update",value:function(){this.cursors.space.isDown&&this.scene.start("Game")}}]),e}(d.a.Scene),y=new d.a.Class({Extends:d.a.Physics.Arcade.Sprite,initialize:function(t,e,i,s,a,r){d.a.Physics.Arcade.Sprite.call(this,t,e,i,"characters");var n=this.scene,c=n.layer;n.physics.add.collider(this,c),this.play("pacman-eat",!0)},moveUp:function(){this.body.setVelocityY(-100),this.angle=270},moveDown:function(){this.body.setVelocityY(100),this.angle=90},moveLeft:function(){this.body.setVelocityX(-100),this.angle=180},moveRight:function(){this.body.setVelocityX(100),this.angle=0},die:function(){var t=this;this.play("pacman-die",!0),this.body.setVelocityX(0),this.body.setVelocityY(0),this.on("animationcomplete",function(){t.disableBody(!0,!0),t.scene.game.scene.start("GameOver")})}}),p=new d.a.Class({Extends:d.a.Physics.Arcade.Sprite,initialize:function(t,e,i,s){var a=this;d.a.Physics.Arcade.Sprite.call(this,t,e,i,"characters");var r=this.scene,n=r.layer;r.physics.add.collider(this,n,function(){a.changeDirection()}),this.ghostType=s},directions:{},currentDirection:"",start:function(){this.moveRight()},changeDirection:function(){var t=this.scene.layer,e={};for(var i in this.directions.right=t.getTileAtWorldXY(this.x+16,this.y,!0),this.directions.left=t.getTileAtWorldXY(this.x-16,this.y,!0),this.directions.up=t.getTileAtWorldXY(this.x,this.y-16,!0),this.directions.down=t.getTileAtWorldXY(this.x,this.y+16,!0),this.directions)14===this.directions[i].index&&(e[i]=this.directions[i]);switch(this.randomDirection(e)){case"up":this.moveUp();break;case"down":this.moveDown();break;case"left":this.moveLeft();break;case"right":this.moveRight()}},randomDirection:function(t){var e=Object.keys(t),i=e.length,s=Math.floor(Math.random()*i);return"right"===e[s]&&"left"===this.currentDirection||"left"===e[s]&&"right"===this.currentDirection||"up"===e[s]&&"down"===this.currentDirection||"down"===e[s]&&"up"===this.currentDirection?this.currentDirection:e[s]},moveUp:function(){this.currentDirection="up",this.body.setVelocityY(-100),this.play("".concat(this.ghostType,"-up"),!0)},moveDown:function(){this.currentDirection="down",this.body.setVelocityY(100),this.play("".concat(this.ghostType,"-down"),!0)},moveLeft:function(){this.currentDirection="left",this.body.setVelocityX(-100),this.play("".concat(this.ghostType,"-left"),!0)},moveRight:function(){this.currentDirection="right",this.body.setVelocityX(100),this.play("".concat(this.ghostType,"-right"),!0)}}),m=function(t){function e(){return Object(s.a)(this,e),Object(r.a)(this,Object(n.a)(e).call(this,{key:"Game"}))}return Object(c.a)(e,t),Object(a.a)(e,[{key:"preload",value:function(){this.load.image("tiles","arcade/assets/pacman/pacman-tiles.png"),this.load.image("player","arcade/assets/pacman/player.png"),this.load.image("ghost","arcade/assets/pacman/ghost.png"),this.load.image("dot","arcade/assets/pacman/dot.png"),this.load.spritesheet("pacman","arcade/assets/pacman/pacman.png",{frameWidth:16,frameHeight:16}),this.load.spritesheet("characters","arcade/assets/pacman/characters.png",{frameWidth:16,frameHeight:16}),this.load.tilemapTiledJSON("map","arcade/assets/pacman/pacmap.json")}},{key:"create",value:function(){var t=this;this.score=0,this.directions={},this.safeTile=14,this.tileSize=16,this.scoreText=this.add.text(20,10,"Score: ".concat(this.score)),this.anims.create({key:"pacman-eat",frames:this.anims.generateFrameNumbers("characters",{start:0,end:2}),frameRate:8,repeat:-1}),this.anims.create({key:"pacman-die",frames:this.anims.generateFrameNumbers("characters",{start:2,end:13}),frameRate:8});var e=["right","left","up","down"],i=56;["blinky","pinky","inky","clyde"].forEach(function(s){e.forEach(function(e){t.anims.create({key:"".concat(s,"-").concat(e),frames:t.anims.generateFrameNumbers("characters",{start:i,end:i+1}),frameRate:8,repeat:-1}),i+=2}),i+=6}),this.map=this.make.tilemap({key:"map"});var s=this.map.addTilesetImage("tiles"),a=this.map.addTilesetImage("dot");this.layer=this.map.createDynamicLayer("Ground Layer",s,0,30),this.dotLayer=this.map.createDynamicLayer("Dot Layer",a,-5,27),this.layer.setCollisionByExclusion([this.safeTile,7],!0,this.layer),this.dotLayer.setTileIndexCallback(7,this.eatDot,this),this.winningScore=10*this.dotLayer.layer.properties.dots,this.player=this.add.existing(new y(this,44,54)),this.physics.add.existing(this.player);var r=this.physics.add.group({classType:p,runChildUpdate:!0}),n=r.get(192,240,"blinky"),c=r.get(224,240,"inky"),h=r.get(256,240,"pinky"),o=r.get(256,240,"clyde");this.physics.add.overlap(this.player,this.dotLayer),this.physics.add.overlap(n,this.player,this.gameOver,null,this),this.physics.add.overlap(h,this.player,this.gameOver,null,this),this.physics.add.overlap(c,this.player,this.gameOver,null,this),this.physics.add.overlap(o,this.player,this.gameOver,null,this),this.cursors=this.input.keyboard.createCursorKeys(),this.player.moveRight(),n.start(),h.start(),c.start(),o.start()}},{key:"update",value:function(t){this.directions.right=this.layer.getTileAtWorldXY(this.player.x+16,this.player.y,!0),this.directions.left=this.layer.getTileAtWorldXY(this.player.x-16,this.player.y,!0),this.directions.up=this.layer.getTileAtWorldXY(this.player.x,this.player.y-16,!0),this.directions.down=this.layer.getTileAtWorldXY(this.player.x,this.player.y+16,!0),this.cursors.down.isDown&&this.canTurn("down")?this.player.moveDown():this.cursors.up.isDown&&this.canTurn("up")?this.player.moveUp():this.cursors.left.isDown&&this.canTurn("left")?this.player.moveLeft():this.cursors.right.isDown&&this.canTurn("right")&&this.player.moveRight(),this.winningScore===this.score&&this.scene.start("Post")}},{key:"canTurn",value:function(t){return this.directions[t].index===this.safeTile}},{key:"eatDot",value:function(t,e){return this.dotLayer.removeTileAt(e.x,e.y),this.score+=10,this.scoreText.text="Score: ".concat(this.score),!1}},{key:"gameOver",value:function(){this.player.die()}}]),e}(d.a.Scene),g=function(t){function e(){return Object(s.a)(this,e),Object(r.a)(this,Object(n.a)(e).call(this,"GameOver"))}return Object(c.a)(e,t),Object(a.a)(e,[{key:"create",value:function(){var t=this.game.canvas,e=t.clientWidth,i=t.clientHeight;this.add.text(e/2-40,i/2-10,"Game Over!"),this.input.manager.enabled=!0,this.cursors=this.input.keyboard.createCursorKeys()}},{key:"update",value:function(t){this.cursors.space.isDown&&t>4e3&&this.scene.start("Game")}}]),e}(d.a.Scene),f=function(t){function e(){return Object(s.a)(this,e),Object(r.a)(this,Object(n.a)(e).call(this,"Post"))}return Object(c.a)(e,t),Object(a.a)(e,[{key:"create",value:function(){var t=this.game.canvas,e=t.clientWidth,i=t.clientHeight;this.add.text(e/2-40,i/2-10,"Winner!"),this.input.manager.enabled=!0,this.cursors=this.input.keyboard.createCursorKeys()}},{key:"update",value:function(t){this.cursors.space.isDown&&t>4e3&&this.cursors.space.isDown&&this.scene.start("Game")}}]),e}(d.a.Scene),v={type:d.a.AUTO,parent:"phaser-container",width:460,height:307,physics:{default:"arcade"},scene:[u,m,g,f],extend:{player:null,cursors:null,score:0}},b=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(r.a)(this,Object(n.a)(e).call(this))).game=null,t}return Object(c.a)(e,t),Object(a.a)(e,[{key:"componentDidMount",value:function(){this.game=new d.a.Game(v),console.log(this.game)}},{key:"componentWillUnmount",value:function(){this.game.destroy(!0)}},{key:"render",value:function(){return o.a.createElement("div",{className:"phaserContainer",id:"phaser-container"})}}]),e}(h.Component);e.default=b}}]);
//# sourceMappingURL=5.275fdb59.chunk.js.map